# 1. Расчет бонусов в зависимости от суммы переменных
##### 1.0.0.0.1. Программа позволяет рассчитвать бонусы клиентов в зависимости от суммы переменных а и в.
### 1.0.1. Установка программы
###### 1.0.1.0.0.1. Для установки программы создать в VS Code папку, в ней  файл calcBonus.js. и поместить в него следующий код
```javascript
const calculateBonus = (a, b) => {
  let bonus;
  const sum = a + b;
  debugger; //программа видит значание а и в, получает сумму
  sum > 50 ? (bonus = 50) : (bonus = sum);
  debugger; //программа посчитала бонуc
  return bonus;
};

console.log(calculateBonus(-570, -838));
```
###### 1.0.1.0.0.2. Запустить проект с дебаггером.Убедиться, что код работает, происходят остановки выполнения кода, виден скоуп текущего статуса работы скрипта.Программа видит значения "а" и "в" и правильно рассчитывает сумму и бонус.
### 1.0.2. Тестирование программы
- Инициировать новый проект командой ```npm init -у``` в терминале. Получить package.json файл. 
- Проверить, внести изменения, если необходимо.
- Установить cypress командой в терминале ```npm install cypress```. Добавится папка node modules. 
- Папку node modules добавить в .gitignore
- Установить jest командой ```npm install --save-dav jest``` в терминале
- В package.json файле в скрипте "test" указать - jest
- Создать файл calcBonus.test.js для тестов
- В файле calcBonus.js содать экспорт кода командой ```module.exports = calculeteBonus;```
- В файле calcBonus.test.js командой ```const.calculeteBonus = require(`./calcBonus.js`)``` импортировать код, сделать его видимым для тестирования и передать его относительный путь.
- Написать тесты проверок следующих состояний:
    - сумма > 50
    - сумма!> 50
    
    Получился код

```javascript
test("bonus should be equal 50", () => {
  expect(calculateBonus(38, 36)).toBe(50);
});

test("bonus should be equal sum", () => {
  expect(calculateBonus(12, 13)).toBe(25);
});

``` 
### 1.0.3. Запуск тестов
- Запустить тестирование командой ```npx jest``` или ```npm run test ```, убедиться, что все работает.
- Чтобы измерить покрытие в проекте, необходим инструмент babel-plugin-istanbul. Установить его с помощью команды```npm install --save-dev babel-plugin-istanbul``` в консоли. В package.json появится новая зависимость - babel-plugin-istanbul.
- для измерения покрытия перейти в файл calculateBonus.test.js и в терминале ввести команду ```npx jest --coverage```. В терминале, после информации о тестировании, откроется таблица, где будет видно, как тесты покрывают программу по веткам и линиям. В случае не покрытых линий будет информация какие именно линии не покрыты.
###### В каталоге файлов появится коллекция coverage, развернуть и кликом на Icon-report найти папку index.html, котрая позволит открыть отчет в браузере. Кликом правой кнопки мышки открыть выпадающее окно и выбрать браузер, где открыть данный отчет. В браузере информация более подробная - о покрытии веток, функций и линий. В этом отчете кликом на активную ссылку ```calcBonus.js```открыть еще более подробный отчет.